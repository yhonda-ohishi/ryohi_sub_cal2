{
  "openapi": "3.0.0",
  "info": {
    "title": "Ryohi Router API",
    "version": "1.0.0",
    "description": "高性能なリクエストルーティングシステム (DTako Module 1.3.3)",
    "termsOfService": "http://swagger.io/terms/",
    "contact": {
      "name": "API Support",
      "email": "support@swagger.io",
      "url": "http://www.swagger.io/support"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Development server"
    }
  ],
  "security": [
    {
      "ApiKeyAuth": []
    }
  ],
  "paths": {
    "/admin/backends": {
      "get": {
        "tags": ["admin"],
        "summary": "List all backends",
        "description": "Get a list of all configured backend services",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BackendService"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["admin"],
        "summary": "Create a new backend",
        "description": "Add a new backend service configuration",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "requestBody": {
          "description": "Backend configuration",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BackendService"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackendService"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/admin/backends/{id}/health": {
      "get": {
        "tags": ["admin"],
        "summary": "Get backend health status",
        "description": "Get health status of a specific backend service",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Backend ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceHealthStatus"
                }
              }
            }
          },
          "404": {
            "description": "Backend not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/admin/reload": {
      "post": {
        "tags": ["admin"],
        "summary": "Reload configuration",
        "description": "Reload the router configuration from file",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Failed to reload configuration",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/admin/routes": {
      "get": {
        "tags": ["admin"],
        "summary": "List all routes",
        "description": "Get a list of all configured routes",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RouteConfig"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["admin"],
        "summary": "Create a new route",
        "description": "Add a new route configuration",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "requestBody": {
          "description": "Route configuration",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RouteConfig"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RouteConfig"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/admin/routes/{id}": {
      "get": {
        "tags": ["admin"],
        "summary": "Get a route by ID",
        "description": "Get details of a specific route",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Route ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RouteConfig"
                }
              }
            }
          },
          "404": {
            "description": "Route not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["admin"],
        "summary": "Update a route",
        "description": "Update an existing route configuration",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Route ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Updated route configuration",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RouteConfig"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RouteConfig"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Route not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["admin"],
        "summary": "Delete a route",
        "description": "Remove a route configuration",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Route ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content"
          },
          "404": {
            "description": "Route not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/dtako/events": {
      "get": {
        "tags": ["dtako_events"],
        "summary": "List Dtako Events",
        "description": "Get event data with location information and optional filtering",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "Start date (YYYY-MM-DD)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "in": "query",
            "description": "End date (YYYY-MM-DD)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "Event type filter",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "unko_no",
            "in": "query",
            "description": "運行NO (Required for performance reasons)",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of records to return (default: 100, max: 1000)",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of dtako events",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DtakoEvent"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dtako/events/import": {
      "post": {
        "tags": ["dtako_events"],
        "summary": "Import Dtako Events",
        "description": "Import event data from production database",
        "requestBody": {
          "description": "Import request",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Import successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dtako/events/{id}": {
      "get": {
        "tags": ["dtako_events"],
        "summary": "Get Dtako Event by ID",
        "description": "Get specific event data by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Event ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dtako event found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DtakoEvent"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dtako/ferry_rows": {
      "get": {
        "tags": ["dtako_ferry"],
        "summary": "List ferry row records",
        "description": "Retrieve ferry row records with optional date range and ferry company filter",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "Start date (YYYY-MM-DD)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "in": "query",
            "description": "End date (YYYY-MM-DD)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "ferry_company",
            "in": "query",
            "description": "Filter by ferry company name",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DtakoFerryRow"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dtako/ferry_rows/import": {
      "post": {
        "tags": ["dtako_ferry"],
        "summary": "Import ferry row records from production",
        "description": "Import ferry row records from production database for a date range",
        "requestBody": {
          "description": "Import request with date range and optional ferry company filter",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dtako/ferry_rows/{id}": {
      "get": {
        "tags": ["dtako_ferry"],
        "summary": "Get ferry row record by ID",
        "description": "Retrieve a specific ferry row record by its ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ferry row record ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DtakoFerryRow"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dtako/rows": {
      "get": {
        "tags": ["dtako_rows"],
        "summary": "List Dtako Rows",
        "description": "Get vehicle operation data with optional date and vehicle filtering",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "Start date (YYYY-MM-DD)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "in": "query",
            "description": "End date (YYYY-MM-DD)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "read_date",
            "in": "query",
            "description": "Read date (YYYY-MM-DD)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "vehicle_cc",
            "in": "query",
            "description": "Vehicle CC filter",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "vehicle_cd",
            "in": "query",
            "description": "Vehicle CD filter",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of dtako rows",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DtakoRow"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dtako/rows/import": {
      "post": {
        "tags": ["dtako_rows"],
        "summary": "Import Dtako Rows",
        "description": "Import vehicle operation data from production database",
        "requestBody": {
          "description": "Import request",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Import successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dtako/rows/{id}": {
      "get": {
        "tags": ["dtako_rows"],
        "summary": "Get Dtako Row by ID",
        "description": "Get specific vehicle operation data by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Row ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dtako row found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DtakoRow"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": ["health"],
        "summary": "Health check endpoint",
        "description": "Returns the health status of the service and its backends",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "ApiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "Authorization"
      }
    },
    "schemas": {
      "AuthConfig": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "required": {
            "type": "boolean"
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "type": {
            "type": "string"
          }
        }
      },
      "BackendService": {
        "type": "object",
        "properties": {
          "circuit_breaker": {
            "$ref": "#/components/schemas/CircuitBreakerConfig"
          },
          "created_at": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "endpoints": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EndpointConfig"
            }
          },
          "health_check": {
            "$ref": "#/components/schemas/HealthCheckConfig"
          },
          "id": {
            "type": "string"
          },
          "load_balancer": {
            "$ref": "#/components/schemas/LoadBalancerConfig"
          },
          "name": {
            "type": "string"
          },
          "retry_policy": {
            "$ref": "#/components/schemas/RetryPolicyConfig"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "CircuitBreakerConfig": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "failure_ratio": {
            "type": "number"
          },
          "interval": {
            "type": "integer"
          },
          "max_requests": {
            "type": "integer"
          },
          "minimum_requests": {
            "type": "integer"
          },
          "timeout": {
            "type": "integer"
          }
        }
      },
      "DtakoEvent": {
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string",
            "example": "2025-01-13T15:04:05Z"
          },
          "description": {
            "type": "string",
            "example": "Started driving from depot"
          },
          "driver_code": {
            "type": "string",
            "example": "driver-123"
          },
          "event_date": {
            "type": "string",
            "example": "2025-01-13T10:30:00Z"
          },
          "event_type": {
            "type": "string",
            "example": "運転"
          },
          "id": {
            "type": "string",
            "example": "event-456"
          },
          "latitude": {
            "type": "number",
            "example": 35.6762
          },
          "longitude": {
            "type": "number",
            "example": 139.6503
          },
          "unko_no": {
            "type": "string",
            "description": "運行NO - links to DtakoRow",
            "example": "2025010101"
          },
          "updated_at": {
            "type": "string",
            "example": "2025-01-13T15:04:05Z"
          },
          "vehicle_no": {
            "type": "string",
            "example": "vehicle-001"
          }
        }
      },
      "DtakoFerryRow": {
        "type": "object",
        "properties": {
          "boarding_code": {
            "type": "integer",
            "description": "乗場CD",
            "example": 1
          },
          "boarding_name": {
            "type": "string",
            "description": "乗場名",
            "example": "東京港"
          },
          "contract_fare": {
            "type": "integer",
            "description": "契約料金",
            "example": 8000
          },
          "driver_code_1": {
            "type": "integer",
            "description": "乗務員CD1",
            "example": 1001
          },
          "driver_name_1": {
            "type": "string",
            "description": "乗務員名１",
            "example": "山田太郎"
          },
          "end_time": {
            "type": "string",
            "description": "終了日時",
            "example": "2025-01-13T12:00:00Z"
          },
          "estimated_distance": {
            "type": "integer",
            "description": "見なし距離",
            "example": 500
          },
          "ferry_company_code": {
            "type": "integer",
            "description": "フェリー会社CD",
            "example": 1
          },
          "ferry_company_name": {
            "type": "string",
            "description": "フェリー会社名",
            "example": "東京フェリー"
          },
          "ferry_search": {
            "type": "string",
            "description": "ferry_srch",
            "example": "東京-大阪"
          },
          "id": {
            "type": "integer",
            "example": 1
          },
          "landing_code": {
            "type": "integer",
            "description": "降場CD",
            "example": 2
          },
          "landing_name": {
            "type": "string",
            "description": "降場名",
            "example": "大阪港"
          },
          "office_code": {
            "type": "integer",
            "description": "事業所CD",
            "example": 1
          },
          "office_name": {
            "type": "string",
            "description": "事業所名",
            "example": "東京事業所"
          },
          "read_date": {
            "type": "string",
            "description": "読取日",
            "example": "2025-01-13T00:00:00Z"
          },
          "settlement_class": {
            "type": "integer",
            "description": "精算区分",
            "example": 1
          },
          "settlement_name": {
            "type": "string",
            "description": "精算区分名",
            "example": "現金"
          },
          "ship_number": {
            "type": "string",
            "description": "便",
            "example": "1便"
          },
          "ship_vehicle_class": {
            "type": "integer",
            "description": "航送車種区分",
            "example": 1
          },
          "ship_vehicle_name": {
            "type": "string",
            "description": "航送車種区分名",
            "example": "大型車"
          },
          "standard_fare": {
            "type": "integer",
            "description": "標準料金",
            "example": 10000
          },
          "start_time": {
            "type": "string",
            "description": "開始日時",
            "example": "2025-01-13T08:00:00Z"
          },
          "target_driver_class": {
            "type": "integer",
            "description": "対象乗務員区分",
            "example": 1
          },
          "unko_date": {
            "type": "string",
            "description": "運行日",
            "example": "2025-01-13T00:00:00Z"
          },
          "unko_no": {
            "type": "string",
            "description": "運行NO",
            "example": "2025010101"
          },
          "vehicle_code": {
            "type": "integer",
            "description": "車輌CD",
            "example": 101
          },
          "vehicle_name": {
            "type": "string",
            "description": "車輌名",
            "example": "トラック1号"
          }
        }
      },
      "DtakoRow": {
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string",
            "example": "2025-01-13T15:04:05Z"
          },
          "date": {
            "type": "string",
            "example": "2025-01-13T00:00:00Z"
          },
          "distance": {
            "type": "number",
            "example": 123.45
          },
          "driver_code": {
            "type": "string",
            "example": "driver-123"
          },
          "fuel_amount": {
            "type": "number",
            "example": 45.67
          },
          "id": {
            "type": "string",
            "example": "row-123"
          },
          "read_date": {
            "type": "string",
            "example": "2025-01-13T00:00:00Z"
          },
          "route_code": {
            "type": "string",
            "example": "route-A"
          },
          "unko_no": {
            "type": "string",
            "description": "運行NO",
            "example": "2025010101"
          },
          "updated_at": {
            "type": "string",
            "example": "2025-01-13T15:04:05Z"
          },
          "vehicle_no": {
            "type": "string",
            "example": "vehicle-001"
          }
        }
      },
      "EndpointConfig": {
        "type": "object",
        "properties": {
          "healthy": {
            "type": "boolean"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "url": {
            "type": "string"
          },
          "weight": {
            "type": "integer"
          }
        }
      },
      "EndpointHealthStatus": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "response_time_ms": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          },
          "url": {
            "type": "string"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "example": 400
          },
          "message": {
            "type": "string",
            "example": "Invalid request parameters"
          }
        }
      },
      "HealthCheckConfig": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "expected_status": {
            "type": "array",
            "items": {
              "type": "integer"
            }
          },
          "healthy_threshold": {
            "type": "integer"
          },
          "interval": {
            "type": "integer"
          },
          "path": {
            "type": "string"
          },
          "timeout": {
            "type": "integer"
          },
          "unhealthy_threshold": {
            "type": "integer"
          }
        }
      },
      "HealthResponse": {
        "type": "object",
        "properties": {
          "services": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ServiceHealthInfo"
            }
          },
          "status": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          }
        }
      },
      "ImportRequest": {
        "type": "object",
        "properties": {
          "event_type": {
            "type": "string",
            "description": "For events",
            "example": "運転"
          },
          "ferry_company": {
            "type": "string",
            "description": "For ferry rows",
            "example": "東京フェリー"
          },
          "from_date": {
            "type": "string",
            "example": "2025-01-01"
          },
          "to_date": {
            "type": "string",
            "example": "2025-01-31"
          }
        }
      },
      "ImportResult": {
        "type": "object",
        "properties": {
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "imported_at": {
            "type": "string",
            "example": "2025-01-13T15:04:05Z"
          },
          "imported_rows": {
            "type": "integer",
            "example": 150
          },
          "message": {
            "type": "string",
            "example": "Imported 150 rows successfully"
          },
          "success": {
            "type": "boolean",
            "example": true
          }
        }
      },
      "LoadBalancerConfig": {
        "type": "object",
        "properties": {
          "algorithm": {
            "type": "string"
          },
          "sticky_session": {
            "type": "boolean"
          }
        }
      },
      "RateLimitConfig": {
        "type": "object",
        "properties": {
          "burst_size": {
            "type": "integer"
          },
          "enabled": {
            "type": "boolean"
          },
          "key_type": {
            "type": "string"
          },
          "period": {
            "type": "string"
          },
          "rate": {
            "type": "integer"
          },
          "white_list": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "RetryPolicyConfig": {
        "type": "object",
        "properties": {
          "backoff": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "initial_interval": {
            "type": "integer"
          },
          "max_attempts": {
            "type": "integer"
          },
          "max_interval": {
            "type": "integer"
          }
        }
      },
      "RouteConfig": {
        "type": "object",
        "properties": {
          "auth": {
            "$ref": "#/components/schemas/AuthConfig"
          },
          "backend": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "id": {
            "type": "string"
          },
          "method": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "middleware": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "path": {
            "type": "string"
          },
          "priority": {
            "type": "integer"
          },
          "rate_limit": {
            "$ref": "#/components/schemas/RateLimitConfig"
          },
          "timeout": {
            "type": "integer",
            "example": 30000000000
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "ServiceHealthInfo": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "ServiceHealthStatus": {
        "type": "object",
        "properties": {
          "endpoint_statuses": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/EndpointHealthStatus"
            }
          },
          "last_checked": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "service_id": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      }
    }
  }
}